
{% load static %}


<head>
    <title>KnowledgeManagementSystem</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="shortcut icon" href="#" />
    <!-- <link href='{%static "css/login/animate/animate.css"%}' rel="stylesheet"> -->
	<!--===============================================================================================-->
	<!-- <link href='{%static "css/login/css-hamburgers/hamburgers.min.css"%}' rel="stylesheet"> -->
	<!--===============================================================================================-->
	<!-- <link href='{%static "css/login/animsition/css/animsition.min.css"%}' rel="stylesheet"> -->
	<!--===============================================================================================-->
	<!-- <link href='{%static "css/login/select2/select2.min.css"%}' rel="stylesheet"> -->
	<!--===============================================================================================-->
	<!-- <link href='{%static "css/login/daterangepicker/daterangepicker.css"%}' rel="stylesheet"> -->
	<!--===============================================================================================-->
	<link href='{%static "css/login/util.css"%}' rel="stylesheet">
	
    <link href='{%static "css/home/main.css"%}'rel="stylesheet">
    <link href='{%static "css/login/main.css"%}' rel="stylesheet">
    <noscript><link rel="stylesheet" href='{%static "css/home/noscript.css"%}'/></noscript>
    

</head>
<body class="is-preload">

    <!-- Wrapper -->
        <div id="wrapper">

            <!-- Header -->
                <header id="header">
                    <div class="logo">
                        <span class="icon fa-gem"></span>
                    </div>
                    <div class="content">
                        <div class="inner" >
                            <h1>Welcome</h1>
                            
                            <form class="login100-form validate-form" action="" method="post">
                                {% csrf_token %}
                                
                                <div id="signup" >
                                    <div class="wrap-input100 validate-input m-t-35 m-b-35" data-validate="Enter account">
                                        <input class="input100" type="text" name="username" value="" id="username" onkeydown="onlyEng()">
                                        <span class="focus-input100" data-placeholder="Enter an username"></span>
                                        <small class="txt1 note" >
                                            <ul>
                                                <li>Username must be between 6 and 20 characters, and letters and number only.</li>
                                            </ul>
                                            
                                        </small>
                                    </div>
                                    <div class="wrap-input100 validate-input m-b-35" data-validate="Enter password">
                                        <input class="input100" type="password" name="password" value="" id="password"minlength="8">
                                        <span class="focus-input100" data-placeholder="Enter a password"></span>
                                        <small class="txt1 note">
                                            
                                            <ul>
                                                <li>Please do not set your frequently used password.</li>
                                                <li>Password must be between 6 and 20 characters.</li>
                                            </ul>
                                        </small>
                                    </div>
                                    <div class="wrap-input100 validate-input m-b-35" data-validate="Enter email">
                                        <input class="input100" type="email" name="email" value="" id="email">
                                        <span class="focus-input100" data-placeholder="Enter en email"></span>
                                        <div class="txt1 note">We'll never share your email with anyone else.</div>
                                    </div>
                                    
            
                                    <div class="container-login100-form-btn">
            
                                        <input class="login100-form-btn" type="submit" value="signup" onClick="validateForm(this.form); return false"/>
                                    </div>
                                    <ul class="login-more p-t-50">
                                        <li class="m-b-8">
                                            <span class="txt1">
                                                Forgot
                                            </span>
            
                                            <a href="#" class="txt2" onclick="forget();return false">
                                                Username / Password?
                                            </a>
                                        </li>
            
                                        <li>
                                            <span class="txt1">
                                                Already have an account?
                                            </span>
            
                                            <a href="/accounts/login" class="txt2" id="login_btn">
                                                Sign in
                                            </a>
                                        </li>
                                    </ul>
                                </div>

                            </form>
                        </div>
                    </div>
                </header>
                 <footer id="footer">
                    <p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
                </footer> 

        </div>

    <!-- BG -->
    <div id="bg"></div>

    <!-- Scripts -->
    <script src='{%static "js/jquery-3.5.1.min.js"%}'></script>
    
    <script src='{%static "js/bootstrap.min.js"%}'></script>
    
    <script src='{%static "js/login/main.js"%}'></script>
    <script src='{%static "js/home/browser.min.js"%}'></script>
    <script src='{%static "js/home/breakpoints.min.js"%}'></script>
    <script src='{%static "js/home/util.js"%}'></script>
    <script src='{%static "js/home/main.js"%}'></script>

    {% if messages %}
    <script>
            {% for msg in messages %}
                alert('{{ msg.message }}');
            {% endfor %}
    </script>
    {% endif %}

    <script >
        function forget(){
            alert("請寄信至 1205hsiao@gmail.com");
            return (false);
        }
        function validateForm(form)
        {
            if (!checkUsername(form.username)) {
               
                return false;
            }
            
            else if (!checkPassword(form.password)) {
               
                return false;
            }
            else if (!checkEmail(form.email.value)) {
               
                return false;
            }
            
            form.submit();
            return(true);
 
        }
        function checkEmail(email){
            index = email.indexOf ('@', 0);		// 尋找 @ 的位置，0 代表開始尋找的起始位置
            if (email.length==0) {
                alert("請輸入電子郵件地址！");
                return (false);
            } else if (index==-1) {
                alert("錯誤：必須包含「@」。");
                return (false);
            } else if (index==0) {
                alert("錯誤：「@」之前不可為空字串。");
                return (false);
            } else if (index==email.length-1) {
                alert("錯誤：「@」之後不可為空字串。");
                return (false);
            } else
                return (true);
        }

        function checkUsername(control){
            var username=control.value
            var code;
            if (username==''){
                alert("錯誤：請輸入username ");
                return (false);
            }
            if(username.length>20 ||username.length<7){
                alert("錯誤：username 最長20字元 最短6字元");
                return (false);
            }
            for (i=0;i<username.length;i++){
                code=username[i].charCodeAt();
                if (!((code>=48 && code<=57)||(code>=65 && code<=90)||(code>=97 && code<=122))){
                    alert("錯誤：username 只能輸入英數");
                    return (false);
                }

            }
            return true
        }
        function checkPassword(control){
            var pwd=control.value
            var code;
            if (pwd==''){
                alert("錯誤：請輸入password ");
                return (false);
            }
            if(pwd.length>20||pwd.length<7){
                alert("錯誤：password 最長20字元 最短6字元");
                return (false);
            }
            for (i=0;i<pwd.length;i++){
                code=pwd[i].charCodeAt();
                if (!((code>=48 && code<=57)||(code>=65 && code<=90)||(code>=97 && code<=122))){
                    alert("錯誤：password 只能輸入英數");
                    return (false);
                }

            }
            return true
        }
    </script>

</body>


